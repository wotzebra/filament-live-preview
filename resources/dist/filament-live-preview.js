(()=>{var $=typeof global=="object"&&global&&global.Object===Object&&global,E=$;var G=typeof self=="object"&&self&&self.Object===Object&&self,K=E||G||Function("return this")(),b=K;var V=b.Symbol,u=V;var L=Object.prototype,J=L.hasOwnProperty,X=L.toString,h=u?u.toStringTag:void 0;function Y(e){var t=J.call(e,h),r=e[h];try{e[h]=void 0;var a=!0}catch{}var i=X.call(e);return a&&(t?e[h]=r:delete e[h]),i}var B=Y;var Q=Object.prototype,Z=Q.toString;function ee(e){return Z.call(e)}var R=ee;var te="[object Null]",re="[object Undefined]",A=u?u.toStringTag:void 0;function oe(e){return e==null?e===void 0?re:te:A&&A in Object(e)?B(e):R(e)}var D=oe;function ae(e){return e!=null&&typeof e=="object"}var M=ae;var fe="[object Symbol]";function se(e){return typeof e=="symbol"||M(e)&&D(e)==fe}var z=se;var le=/\s/;function ie(e){for(var t=e.length;t--&&le.test(e.charAt(t)););return t}var N=ie;var de=/^\s+/;function me(e){return e&&e.slice(0,N(e)+1).replace(de,"")}var C=me;function ue(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var g=ue;var F=NaN,pe=/^[-+]0x[0-9a-f]+$/i,ne=/^0b[01]+$/i,xe=/^0o[0-7]+$/i,ce=parseInt;function he(e){if(typeof e=="number")return e;if(z(e))return F;if(g(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=g(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=C(e);var r=ne.test(e);return r||xe.test(e)?ce(e.slice(2),r?2:8):pe.test(e)?F:+e}var O=he;var ge=function(){return b.Date.now()},v=ge;var ye="Expected a function",be=Math.max,ve=Math.min;function we(e,t,r){var a,i,p,m,f,d,n=0,T=!1,x=!1,w=!0;if(typeof e!="function")throw new TypeError(ye);t=O(t)||0,g(r)&&(T=!!r.leading,x="maxWait"in r,p=x?be(O(r.maxWait)||0,t):p,w="trailing"in r?!!r.trailing:w);function S(o){var l=a,c=i;return a=i=void 0,n=o,m=e.apply(c,l),m}function q(o){return n=o,f=setTimeout(y,t),T?S(o):m}function U(o){var l=o-d,c=o-n,j=t-l;return x?ve(j,p-c):j}function k(o){var l=o-d,c=o-n;return d===void 0||l>=t||l<0||x&&c>=p}function y(){var o=v();if(k(o))return W(o);f=setTimeout(y,U(o))}function W(o){return f=void 0,w&&a?S(o):(a=i=void 0,m)}function _(){f!==void 0&&clearTimeout(f),n=0,a=d=i=f=void 0}function H(){return f===void 0?m:W(v())}function I(){var o=v(),l=k(o);if(a=arguments,i=this,d=o,l){if(f===void 0)return q(d);if(x)return clearTimeout(f),f=setTimeout(y,t),S(d)}return f===void 0&&(f=setTimeout(y,t)),m}return I.cancel=_,I.flush=H,I}var P=we;function s(e,t,r={}){e.dispatchEvent(new CustomEvent(t,{detail:r,bubbles:!0,composed:!0,cancelable:!0}))}var Se=[];document.addEventListener("alpine:init",()=>{s(document,"peek:initializing"),Alpine.data("PeekPreviewModal",e=>({config:e,isOpen:!1,canRotatePreset:!1,activeDevicePreset:null,iframeUrl:null,iframeStyle:{width:"100%",height:"100%",maxWidth:"100%",maxHeight:"100%"},init(){s(document,"peek:modal-initializing",{modal:this});let t=this.config.editorAutoRefreshDebounceTime||1e3;this.refreshPreview=P(()=>Livewire.dispatch("refreshPreview"),t),this.setDevicePreset(),setTimeout(()=>s(document,"peek:modal-initialized",{modal:this}),0),Livewire.dispatch("openPreview")},setIframeDimensions(t,r){this.iframeStyle.maxWidth=t,this.iframeStyle.maxHeight=r,this.config.allowIframeOverflow&&(this.iframeStyle.width=t,this.iframeStyle.height=r)},setDevicePreset(t){t=t||this.config.initialDevicePreset,this.config.devicePresets&&this.config.devicePresets[t]&&this.config.devicePresets[t].width&&this.config.devicePresets[t].height&&(this.setIframeDimensions(this.config.devicePresets[t].width,this.config.devicePresets[t].height),this.canRotatePreset=this.config.devicePresets[t].canRotatePreset||!1,this.activeDevicePreset=t)},isActiveDevicePreset(t){return this.activeDevicePreset===t},rotateDevicePreset(){let t=this.iframeStyle.maxHeight,r=this.iframeStyle.maxWidth;this.setIframeDimensions(t,r)},onOpenPreview(t){s(document,"peek:modal-opening",{modal:this}),document.body.classList.add("is-filament-peek-preview-modal-open"),this.config.shouldRestoreIframePositionOnRefresh&&this._restoreIframeScrollPosition(),this.iframeUrl=t.detail.iframeUrl,this.isOpen=!0,setTimeout(()=>s(document,"peek:modal-opened",{modal:this}),0)},_restoreIframeScrollPosition(){try{let t=this.$refs.previewBody.querySelector("iframe");t&&t.contentWindow&&(this._iframeScrollPosition=t.contentWindow.scrollY,t.onload=()=>{t?.contentWindow?.scrollTo(0,this._iframeScrollPosition||0)})}catch{}},onClosePreview(t){setTimeout(()=>this._closeModal(),t?.detail?.delay?250:0)},_closeModal(){s(document,"peek:modal-closing",{modal:this}),document.body.classList.remove("is-filament-peek-preview-modal-open"),this.iframeUrl=null,this.isOpen=!1,setTimeout(()=>s(document,"peek:modal-closed",{modal:this}),0)},onEditorFocusOut(t){for(let r of Se)typeof r=="function"&&r(t.detail,this)}})),s(document,"peek:initialized")});document.addEventListener("peek:modal-initialized",e=>{let t=e.detail.modal;if(document.querySelector("[data-live-preview-form]")){let a=()=>t.refreshPreview();window.addEventListener("input",a),window.addEventListener("change",a),window.addEventListener("submit",a),window.addEventListener("pointerout",a)}});})();
/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
